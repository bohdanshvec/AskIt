<% provide :page_title, t('menu.questions') %>

<% currently_at(t('menu.questions')) %>

<h1><%= t('.title') %></h1>

<section class="mb-5">
  <h2><%= t '.search_by_tags' %></h2>

  <%= form_with url: questions_path, method: :get do |f| %>
    <div class="mb-3">
      <%= f.collection_select :tag_ids, (@tags || []), :id, :title, {selected: params[:tag_ids]},
        multiple: true, required: true,
        class: 'js-multiple-select', data: {'ajax-url': '/api/tags'} %>
    </div>

    <%= f.submit t('global.button.submit'), class: 'btn btn-primary' %>
  <% end %>
</section>

<% if policy(:question).new? %>
  <%= link_to t('global.button.new_question'), new_question_path, class: "btn btn-primary" %>
<% end %>

<hr>

<%== pagy_bootstrap_nav(@pagy) %>

  <%= render @questions %>

<%== pagy_bootstrap_nav(@pagy) %>