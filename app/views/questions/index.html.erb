<% provide :page_title, 'Questions' %>

<% currently_at('Questions') %>

<h1>Questions</h1>

<%= link_to 'NEW Question', new_question_path, class: "btn btn-primary"  %>
<hr>

  <% @questions.each do |question| %>
    <article class="card mb-2">
      <div class="card-body">

        <h2><%= link_to question.title, question, class: "text-decoration-none link-opacity-50-hover" %></h2>
      
        <section class="card-text">
          <time datatime="<% question.formatted_created_at %>">
            <%= question.formatted_created_at %>
          </time>

          <div class="my-2">
            <%= truncate strip_tags(question.body), length: 150, omission: '... (continued)' %>
          </div>
        <section>

        <%= link_to 'Edit', edit_question_path(question), class: "btn btn-primary" %>
        <%= link_to 'Show', question_path(question), class: "btn btn-secondary" %>
        <%= link_to 'Delete', question_path(question), data: {turbo_method: :delete, turbo_confirm: 'Are you sure?' }, class: "btn btn-danger" %>
      </div>
    </article>
  <% end %>