<% provide :page_title, 'Show question' %>

<% currently_at('Questions') %>

<div class='m-3'>

  <div class="mb-4">
    <h1><%= @question.title %></h1>
  </div>

  <div class="my-2">
    <time datatime="<% @question.formatted_created_at %>">
      <%= @question.formatted_created_at %>
    </time>
  </div>

  <div class="my-2">
    <p><%= @question.body %></p>
  </div>

  <%= link_to 'Edit', edit_question_path(@question), class: "btn btn-primary"  %>
  <%= link_to 'Delete', question_path(@question), data: {turbo_method: :delete, turbo_confirm: 'Are you sure?' }, class: "btn btn-danger"  %>

  <hr>

  <h2>Write yur arswers</h2>

  <%= render 'answers/form' %>

  <h2 class="mt-5">Answers :</h2>


    <% @answers.each do |answer| %>

      <article class="mb-3 card">
        <div class="card-body">
          <section class="card-text">

            <time datatime="<% answer.formatted_created_at %>">
              <%= answer.formatted_created_at %>
            </time>

            <p>
              <%= answer.body %>
            </p>
          </section>

          <%= link_to 'Edit', edit_question_answer_path(@question, answer), class: "btn btn-primary" %>
          <%= link_to 'Delete', question_answer_path(@question, answer), data: {turbo_method: :delete, turbo_confirm: 'Are you sure?' }, class: "btn btn-danger"  %>
          
        </div>
      </article>

    <% end %>


</div>


